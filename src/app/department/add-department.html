<modal [show]="department !== null"
             (hide)="onCancel.emit()"
             title="Add Department"
>
    <div body>
        <div *ngIf="department !== null">

            <errors [errors]="errors"></errors>

            <div class="form-group">
                <label>Name</label>
                <input type="text" class="form-control" [(ngModel)]="department.name">
            </div>

            <div class="form-group">
                <label>Parent</label>              
                <select class="form-control" [(ngModel)]="department.parent_id" >
                    <option  *ngFor="let d of departments.data" [value]="d.id"  >{{d.name}}</option>
                </select>
            </div>        

            <div class="form-group">
                <label>Description</label>
                <textarea class="form-control"
                          [(ngModel)]="department.description"
                          rows="4"
                >
            </textarea>
            </div>

    </div>
    </div>
    <div footer>
        <btn type="primary"
             icon="fa fa-check-circle-o"
             [busy]="adding"
             (click)="create()">
            Create
        </btn>
    </div>
</modal>
